---
- include_tasks: variables.yml
- include_tasks: packages.yml
- include_tasks: configuration.yml

# - name: check to see if gitlab runner is installed
#   stat:
#     path: /usr/bin/gitlab-runner
#   register: gitlab_runner_exec
#   tags:
#     - gitlab

# - name: ensure the gitlab runner repo installation script is present
#   get_url:
#     url: https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.deb.sh
#     dest: /tmp/gitlab_runner_repo_install.sh
#   when: gitlab_runner_exec.stat.exists == False
#   tags:
#     - gitlab

# - name: ensure the gitlab runner repo is installed
#   command: bash /tmp/gitlab_runner_repo_install.sh
#   when: gitlab_runner_exec.stat.exists == False
#   tags:
#     - gitlab

# - name: ensure gitlab runner is installed
#   apt:
#     name: gitlab-runner
#     state: present
#   when: gitlab_runner_exec.stat.exists == False
#   tags:
#     - gitlab
